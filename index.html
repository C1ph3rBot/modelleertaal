<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Modelleertaal test webpagina</title>

	<style>
    html {
      font-family: Helvetica, Arial, sans-serif;
      font-size: 100%;
    }
    /* schaduw rand om werkblad zodat afmetinging zichtbaar is
       handig voor debuggen */
    #werkBlad {
      padding: 1em;
      margin: 1em auto;
      box-shadow: 0 2px 10px rgba(0,0,0,0.8);
    }


    </style>
    <script src="jquery-1.11.3.js"></script>
</head>
<body>
	<div id="werkBlad"> <!-- CSS zorg voor met werkvlak met schaduw -->
        <h2>Modeltest</h2>

        <div>
            <input id="open" type="button" value= "Open model.xml via HTTP/get">
            <script>
            $(document).ready(function() {
                $("#open").click(function() {
                    $.ajax({
                        url : "modellen/model.xml",
                        dataType: "text",
                        success : function (data) {
							$("#bestandInhoud").html(data);
                            model = new model_js.Model();
							model.parseBogusXMLString(data);
							$("#modelregels").val(model.modelregels);
							$("#startwaarden").val(model.startwaarden);
                            }
                        });
                });
            });
            </script>
        </div>



		<div>
			<input id="run" type="button" value= "RUN!">
			<script>
			$(document).ready(function() {
				$("#run").click(function() {
					console.log('RUN! clicked.');
					console.log('model = ', model);
				    var evaluator = new evaluator_js.ModelregelsEvaluator(model, true);
					var N = 1000, Nresults = 100;
					var results = evaluator.run(N, Nresults);
					console.log("t["+Nresults+"]= ", results.t[Nresults-1]);
				});
			});
		 	</script>
		</div>

		<p>
		<textarea id="modelregels"  rows=10 cols=40> Modelregels </textarea>
		<textarea id="startwaarden" rows=10 cols=25> Startwaarden </textarea>
        <pre id="bestandInhoud"></pre>
	</div>

	<!-- script/modules created with:
	     browserify SCRIPT.js -d -s SCRIPT_js -o SCRIPT_browserfied.js
		 access functions using SCRIPT_js object
	-->
	<script src="model_browserified.js"></script>
	<script src="evaluator_browserified.js"></script>
</body>
</html>
